.row {
  max-width: $grid-width;
  margin: 0 auto;

  &:not(:last-child) {
    margin-bottom: $gutter-vertical;

    @include respond(tab-port) {
      margin-bottom: $gutter-vertical-small;
    }
  }

  @include respond(tab-port) {
    max-width: 50rem;
    padding: 0 3rem;
  }

  @include clearfix;

  @for $i from 1 through 4 {
    @for $j from 1 through $i {
      .col-#{$j}-of-#{$i} {
        $col-width: calc((100% - (#{$i} - 1) * #{$gutter-horizontal}) / #{$i});
        width: calc(#{$j} * #{$col-width} + (#{$j} - 1) * #{$gutter-horizontal});
        float: left;

        &:not(:last-child) {
          margin-right: $gutter-horizontal;

          @include respond(tab-port) {
            margin-right: 0;
            margin-bottom: $gutter-vertical-small;
          }
        }

        @include respond(tab-port) {
          width: 100% !important;
        }
      }
    }
  }
}
